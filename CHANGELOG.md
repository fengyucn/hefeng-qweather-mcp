# 更新日志

所有重要的项目更改都会记录在此文件中。

格式基于 [Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/)，
并且本项目遵循 [语义化版本](https://semver.org/lang/zh-CN/)。

## [0.5.0] - 2025-11-22

### 新增功能
- ✨ 新增 GeoAPI 服务模块
  - `get_top_cities` - 获取热门城市列表（中国/世界/海外）
  - `search_poi` - POI 关键词搜索（支持景点、潮汐站点）
  - `search_poi_range` - POI 范围搜索（公里制半径）

- ✨ 新增空气质量扩展模块
  - `get_air_quality_hourly` - 空气质量小时预报（24h/72h/168h）
  - `get_air_quality_daily` - 空气质量每日预报（3天）
  - `get_air_quality_stations` - 监测站污染物浓度数据查询

### 功能改进
- 🔧 修复 POI 范围搜索 radius 参数单位问题（改为公里制）
- 🔧 修复空气质量 API 端点格式（使用路径参数而非查询参数）
- 🔧 修复空气质量数据结构解析问题（适配新 API 格式）
- 🔧 统一参数验证机制和错误处理
- 🔧 完善中文文档字符串和参数说明

### 技术细节
- 📊 支持 POI 类型：景点（scenic）和潮汐站点（TSTA）
- 📊 POI 搜索：米制半径（100-50000米）
- 📊 POI 范围搜索：公里制半径（1-50公里）
- 📊 空气质量预报：支持 24/72/168 小时逐小时数据
- 📊 监测站数据：提供实时污染物浓度值
- 📊 完整的测试套件覆盖所有新功能

### 文档更新
- 📚 更新 README.md，添加新功能说明和使用示例
- 📚 完善 MCP 工具列表和参数文档
- 📚 添加 GeoAPI 和空气质量扩展功能的使用示例
- 📚 统一参数单位说明，避免混淆

### 测试验证
- ✅ 所有 6 个新增 API 功能测试通过
- ✅ 参数验证和错误处理测试完整
- ✅ API 端点格式修复验证
- ✅ 数据结构解析修复验证
- ✅ 文档和实现一致性验证

## [0.4.0] - 2025-10-XX

### 新增功能
- ✨ 新增格点天气接口
  - `get_grid_weather_now` - 格点实时天气数据
  - `get_grid_weather_daily` - 格点每日天气预报
  - `get_grid_weather_hourly` - 格点逐小时天气预报

### 功能改进
- 🔧 支持全球任意坐标的高分辨率天气查询（3-5公里分辨率）
- 🔧 基于数值预报模型，提供精确坐标天气数据
- 🔧 完善多语言支持和单位选择功能

## [0.3.0] - 2025-09-XX

### 新增功能
- ✨ 新增天文数据接口
  - `get_astronomy_sun` - 日出日落时间查询
  - `get_astronomy_moon` - 月相月升月落信息

- ✨ 新增分钟级降水预报
  - `get_minutely_5m` - 未来2小时5分钟级降水预报

### 功能改进
- 🔧 支持多种天气预报时长：3d/7d/10d/15d/30d
- 🔧 支持 24/72/168 小时逐小时天气预报
- 🔧 完善历史数据查询（天气和空气质量，最多10天）
- 🔧 优化认证系统，优先使用 API KEY 认证
- 🔧 完善错误处理和日志记录

## [0.2.1] - 2025-08-XX

### 基础功能
- ✅ 基础天气查询功能
- ✅ JWT 数字签名认证支持
- ✅ 空气质量查询
- ✅ 生活指数查询

---

### 版本号说明

- **主版本号（MAJOR）**：不兼容的 API 修改
- **次版本号（MINOR）**：向下兼容的功能性新增
- **修订号（PATCH）**：向下兼容的问题修正

### 贡献指南

如果您想为项目做出贡献，请查看 [README.md](./README.md#贡献指南) 了解详细信息。